---
import { Astronav, MenuItems, MenuIcon } from "astro-navbar";
import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "src/i18n/utils";
import SwitchLanguage from "./SwitchLanguage.astro";
import { getI18N } from "@i18n/index";
import Bars from "@assets/icons/Navbar/Bars.astro";
import User from "@assets/icons/Navbar/User.astro";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const { title, nav1 } = i18n.Navbar;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<nav>
  <div class="mx-auto">
    <header class="flex flex-col lg:flex-row justify-between items-center">
      <Astronav>
        <div
          class="flex w-full lg:w-auto items-center justify-between lg:justify-between p-5"
        >
          <a
            href={translatePath("/")}
            class="text-2xl flex items-center"
            aria-label={title}
            title={t("nav.index")}
          >
            <span style="color: white;" class="sm:hidden md:inline hidden"
              >{nav1}</span
            >
          </a>

          <div class="block lg:hidden px-4">
            <MenuIcon class="w-4 h-4" />
          </div>
        </div>
        <MenuItems
          class="hidden w-full lg:w-auto mt-2 lg:flex lg:mt-0 backdrop-brightness-100"
        >
          <div
            class="flex lg:gap-4 justify-center items-center place-content-between"
          >
            <SwitchLanguage />
            <User />
            <Bars />
          </div>
        </MenuItems>
      </Astronav>
    </header>
  </div>
</nav>
